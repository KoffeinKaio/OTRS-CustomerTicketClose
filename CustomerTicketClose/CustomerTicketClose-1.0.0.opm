<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>CustomerTicketClose</Name>
    <Version>1.0.0</Version>
    <Vendor>tuxwerk</Vendor>
    <URL>http://www.tuxwerk.de/</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 2, June 1991</License>
    <ChangeLog Version="1.0.0" Date="2007-02-15 16:17:51">New package.</ChangeLog>
    <Description Lang="de">Schlie√üen des Tickets durch Kunden.</Description>
    <Framework>2.4.x</Framework>
    <BuildDate>2009-10-21 14:15:59</BuildDate>
    <BuildHost>support.reiner-sct.de</BuildHost>
    <Filelist>
        <File Location="Kernel/Modules/CustomerTicketClose.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FnZW50VGlja2V0Q2xvc2UucG0gLSBjbG9zZSBhIHRpY2tldAojIENvcHlyaWdodCAoQykgMjAwMS0yMDA5IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8KIyAtLQojICRJZDogQWdlbnRUaWNrZXRDbG9zZS5wbSx2IDEuNjkgMjAwOS8wOC8yNSAxNDozMjo1NSBtYXJ0aW4gRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpDdXN0b21lclRpY2tldENsb3NlOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIEtlcm5lbDo6U3lzdGVtOjpTdGF0ZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpXZWI6OlVwbG9hZENhY2hlOwoKdXNlIHZhcnMgcXcoJFZFUlNJT04pOwokVkVSU0lPTiA9IHF3KCRSZXZpc2lvbjogMS42OSAkKSBbMV07CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHslUGFyYW19OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgICMgY2hlY2sgbmVlZGVkIG9iamVjdHMKICAgIGZvciAocXcoUGFyYW1PYmplY3QgREJPYmplY3QgVGlja2V0T2JqZWN0IExheW91dE9iamVjdCBMb2dPYmplY3QgUXVldWVPYmplY3QgQ29uZmlnT2JqZWN0KSkgewogICAgICAgIGlmICggISRTZWxmLT57JF99ICkgewogICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZhdGFsRXJyb3IoIE1lc3NhZ2UgPT4gIkdvdCBubyAkXyEiICk7CiAgICAgICAgfQogICAgfQogICAgJFNlbGYtPntTdGF0ZU9iamVjdH0gICAgICA9IEtlcm5lbDo6U3lzdGVtOjpTdGF0ZS0+bmV3KCVQYXJhbSk7CiAgICAkU2VsZi0+e1VwbG9hZENhY2hPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OldlYjo6VXBsb2FkQ2FjaGUtPm5ldyglUGFyYW0pOwoKICAgICMgZ2V0IGZvcm0gaWQKICAgICRTZWxmLT57Rm9ybUlEfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJ0Zvcm1JRCcgKTsKCiAgICAjIGdldCBpbmZvcm0gdXNlciBsaXN0CiAgICBteSBASW5mb3JtVXNlcklEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldEFycmF5KCBQYXJhbSA9PiAnSW5mb3JtVXNlcklEJyApOwogICAgJFNlbGYtPntJbmZvcm1Vc2VySUR9ID0gXEBJbmZvcm1Vc2VySUQ7CgogICAgIyBnZXQgaW52b2x2ZWQgdXNlciBsaXN0CiAgICBteSBASW52b2x2ZWRVc2VySUQgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0QXJyYXkoIFBhcmFtID0+ICdJbnZvbHZlZFVzZXJJRCcgKTsKICAgICRTZWxmLT57SW52b2x2ZWRVc2VySUR9ID0gXEBJbnZvbHZlZFVzZXJJRDsKCiAgICAjIGNyZWF0ZSBmb3JtIGlkCiAgICBpZiAoICEkU2VsZi0+e0Zvcm1JRH0gKSB7CiAgICAgICAgJFNlbGYtPntGb3JtSUR9ID0gJFNlbGYtPntVcGxvYWRDYWNoT2JqZWN0fS0+Rm9ybUlEQ3JlYXRlKCk7CiAgICB9CgogICAgIyBnZXQgY29uZmlnIG9mIGZyb250ZW5kIG1vZHVsZQogICAgJFNlbGYtPntDb25maWd9ID0gJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoIlRpY2tldDo6RnJvbnRlbmQ6OiRTZWxmLT57QWN0aW9ufSIpOwoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkN1c3RvbWVySGVhZGVyKEFyZWEgPT4gJ0N1c3RvbWVyJywgVGl0bGUgPT4gJ0Nsb3NlJyk7CiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgaWYgKCAhJFNlbGYtPntUaWNrZXRJRH0gKSB7CiAgICAgICAgIyBlcnJvciBwYWdlCiAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICRPdXRwdXQuCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KFRlbXBsYXRlRmlsZSA9PiAnQ3VzdG9tZXJUaWNrZXRDbG9zZUVycm9yJywgRGF0YSA9PiBcJVBhcmFtKS4KICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5DdXN0b21lckZvb3RlcigpOwogICAgfQoKICAgIG15ICVUaWNrZXQgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldEdldCggVGlja2V0SUQgPT4gJFNlbGYtPntUaWNrZXRJRH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJRCA9PiAxKTsKCiAgICBteSAkVG4gPSAkVGlja2V0eydUaWNrZXROdW1iZXInfTsKICAgIG15ICRUYyA9ICRUaWNrZXR7J0N1c3RvbWVyVXNlcklEJ307CgogICAgaWYgKCRUbiBuZSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oUGFyYW0gPT4gJ051bWJlcicpIHx8CiAgICAgICAgJFRpY2tldHsnQ3VzdG9tZXJVc2VySUQnfSBuZSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oUGFyYW0gPT4gJ0N1c3RvbWVyJykpIHsKICAgICAgICAjIHJlZGlyZWN0IHRvIGJhZCBndXkKICAgICAgICByZXR1cm4KICAgICAgICAgICAgJE91dHB1dC4KICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5PdXRwdXQoVGVtcGxhdGVGaWxlID0+ICdDdXN0b21lclRpY2tldENsb3NlRXJyb3InLCBEYXRhID0+IFwlUGFyYW0pLgogICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkN1c3RvbWVyRm9vdGVyKCk7CiAgICB9CgogICAgbXkgJUNsb3NlU3RhdGUgPSAkU2VsZi0+e1N0YXRlT2JqZWN0fS0+U3RhdGVHZXQoIE5hbWUgID0+ICdjbG9zZWQgc3VjY2Vzc2Z1bCcgKTsKICAgIG15ICRDbG9zZVN0YXRlSUQgPSAkQ2xvc2VTdGF0ZXtJRH07CgogICAgaWYgKCRUaWNrZXR7J1N0YXRlSUQnfSA9PSAkQ2xvc2VTdGF0ZUlEKSB7CiAgICAgICAgIyByZWRpcmVjdCB0byB0aWNrZXQgaXMgY2xvc2VkCiAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICRPdXRwdXQuCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KFRlbXBsYXRlRmlsZSA9PiAnQ3VzdG9tZXJUaWNrZXRDbG9zZUFscmVhZHlDbG9zZWQnLCBEYXRhID0+IFwlUGFyYW0pLgogICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkN1c3RvbWVyRm9vdGVyKCk7CiAgICB9CgogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ1N0b3JlJyApIHsKCiAgICAgICAgIyBzdG9yZSBhY3Rpb24KICAgICAgICBteSAlRXJyb3IgPSAoKTsKICAgICAgICBteSAkTm90ZUlEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKFBhcmFtID0+ICdDbG9zZU5vdGVJRCcpOwogICAgICAgIG15ICRUZXh0ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKFBhcmFtID0+ICdUZXh0JykgfHwKICAgICAgICAgICAgJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKFBhcmFtID0+ICdCb2R5JykgfHwKICAgICAgICAgICAgJ0tlaW5lbiBUZXh0IGVpbmdlZ2ViZW4uJzsKCiAgICAgICAgbXkgJEFydGljbGVJRCA9ICRTZWxmLT57VGlja2V0T2JqZWN0fS0+QXJ0aWNsZUNyZWF0ZSgKICAgICAgICAgICAgVGlja2V0SUQgPT4gJFNlbGYtPntUaWNrZXRJRH0sCiAgICAgICAgICAgIEFydGljbGVUeXBlID0+ICdub3RlLWludGVybmFsJywKICAgICAgICAgICAgU2VuZGVyVHlwZSA9PiAnY3VzdG9tZXInLAogICAgICAgICAgICBGcm9tID0+ICIkU2VsZi0+e1VzZXJGaXJzdG5hbWV9ICRTZWxmLT57VXNlckxhc3RuYW1lfSA8JFNlbGYtPntVc2VyRW1haWx9PiIsCiAgICAgICAgICAgIFN1YmplY3QgPT4gJ1ZvbSBLdW5kZW4gZ2VzY2hsb3NzZW4nLAogICAgICAgICAgICBCb2R5ID0+ICRUZXh0LAogICAgICAgICAgICBDb250ZW50VHlwZSA9PiAidGV4dC9wbGFpbjsgY2hhcnNldD0kU2VsZi0+e0xheW91dE9iamVjdH0tPnsnVXNlckNoYXJzZXQnfSIsCiAgICAgICAgICAgIFVzZXJJRCA9PiAxLAogICAgICAgICAgICBIaXN0b3J5VHlwZSA9PiAnQWRkTm90ZScsCiAgICAgICAgICAgIEhpc3RvcnlDb21tZW50ID0+ICclJUNsb3NlJywKICAgICAgICAgICAgKTsKICAgICAgICBpZiAoJEFydGljbGVJRCkgewogICAgICAgICAgICAjIHNldCBzdGF0ZQogICAgICAgICAgICAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlN0YXRlU2V0KAogICAgICAgICAgICAgICAgVXNlcklEID0+IDEsCiAgICAgICAgICAgICAgICBUaWNrZXRJRCA9PiAkU2VsZi0+e1RpY2tldElEfSwKICAgICAgICAgICAgICAgIFN0YXRlSUQgPT4gJENsb3NlU3RhdGVJRCwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICMgc2V0IGxvY2sKICAgICAgICAgICAgJFNlbGYtPntUaWNrZXRPYmplY3R9LT5Mb2NrU2V0KAogICAgICAgICAgICAgICAgVXNlcklEID0+IDEsCiAgICAgICAgICAgICAgICBUaWNrZXRJRCA9PiAkU2VsZi0+e1RpY2tldElEfSwKICAgICAgICAgICAgICAgIExvY2sgPT4gJ3VubG9jaycKICAgICAgICAgICAgICAgICk7CiAgICAgICAgfQoJJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dChUZW1wbGF0ZUZpbGUgPT4gJ0N1c3RvbWVyVGlja2V0Q2xvc2VDbG9zZWQnLCBEYXRhID0+IFwlUGFyYW0pOwogICAgfSBlbHNlIHsKCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+X01hc2soCiAgICAgICAgICAgIFRpY2tldElEID0+ICRTZWxmLT57VGlja2V0SUR9LAogICAgICAgICAgICBUaWNrZXROdW1iZXIgPT4gJFRuLAogICAgICAgICAgICBDdXN0b21lciA9PiAkVGMKICAgICAgICApOwogICAgfQogICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkN1c3RvbWVyRm9vdGVyKCk7CiAgICByZXR1cm4gJE91dHB1dDsKfQoKc3ViIF9NYXNrIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBnZXQgb3V0cHV0IGJhY2sKICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCggVGVtcGxhdGVGaWxlID0+ICdDdXN0b21lclRpY2tldENsb3NlJywgRGF0YSA9PiBcJVBhcmFtICk7Cn0KCjE7Cg==</File>
    </Filelist>
    <DatabaseInstall>
    </DatabaseInstall>
    <DatabaseUninstall>
    </DatabaseUninstall>
</otrs_package>